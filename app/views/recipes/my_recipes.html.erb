<div class="d-flex align-items-start">
  <div class="nav flex-column nav-pills me-3" id="v-pills-tab" role="tablist" aria-orientation="vertical">
    <button class="nav-link active" id="v-pills-home-tab" data-bs-toggle="pill" data-bs-target="#v-pills-home" type="button" role="tab" aria-controls="v-pills-home" aria-selected="true">プロフィール</button>
    <button class="nav-link" id="v-pills-profile-tab" data-bs-toggle="pill" data-bs-target="#v-pills-profile" type="button" role="tab" aria-controls="v-pills-profile" aria-selected="false">編集</button>
    <button class="nav-link" id="v-pills-messages-tab" data-bs-toggle="pill" data-bs-target="#v-pills-messages" type="button" role="tab" aria-controls="v-pills-messages" aria-selected="false">マイレシピ</button>
    <button class="nav-link" id="v-pills-settings-tab" data-bs-toggle="pill" data-bs-target="#v-pills-settings" type="button" role="tab" aria-controls="v-pills-settings" aria-selected="false">お気に入りレシピ</button>
  </div>
  <div class="tab-content" id="v-pills-tabContent">
    <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab" tabindex="0">
      <% if user_signed_in? %>
      <div class="user-profile">
        <% if current_user.icon? %>
          <%= image_tag current_user.icon.url, class: "user-icon" %>
        <% else %>
          <%= image_tag "default_icon.png", class: "user-icon" %>
        <% end %>
        <h2><%= current_user.username %></h2>
        <p><%= current_user.message %></p>
      </div>
      <% end %>
    </div>
    <div class="tab-pane fade" id="v-pills-profile" role="tabpanel" aria-labelledby="v-pills-profile-tab" tabindex="0">
      <%= link_to "アカウント情報編集", edit_user_registration_path, class: "nav-link" %>
    </div>
    <div class="tab-pane fade" id="v-pills-messages" role="tabpanel" aria-labelledby="v-pills-messages-tab" tabindex="0">
      <h1>マイレシピ</h1>
      <div class="container mt-5">
        <div class="row row-cols-1 row-cols-md-3 g-4 mx-4">
          <% @recipes.each do |recipe| %>
            <div class="col">
              <div class="card h-100">
                <% if recipe.image? %>
                  <%= image_tag recipe.image.url, class: "card-img-top" %>
                <% else %>
                  <%= image_tag "dish.png", class: "card-img-top" %>
                <% end %>
                <div class="card-body">
                  <h5 class="card-title text-white"><%= link_to recipe.title, recipe_path(recipe) %></h5>
                  <p class="card-text"><%= recipe.description %></p>
                </div>
                <% if current_user == recipe.user || current_user.admin? %>
                  <%= link_to "削除", recipe_path(recipe), method: :delete, data: { confirm: "本当に削除しますか？" }, class: "btn btn-danger" %>
                  <%= link_to "レシピを修正する", edit_recipe_path(recipe), class: "btn btn-dark" %>
                <% end %> 
              </div>
            </div>
          <% end %>
        </div>
      </div>
    </div>
    <div class="tab-pane fade" id="v-pills-settings" role="tabpanel" aria-labelledby="v-pills-settings-tab" tabindex="0">
      <h1>お気に入りレシピ</h1>
      <div class="container mt-5">
        <div class="row row-cols-1 row-cols-md-3 g-4 mx-4">
          <% @favorite_recipes.each do |recipe| %>
            <div class="col">
              <div class="card h-100">
                <% if recipe.image? %>
                  <%= image_tag recipe.image.url, class: "card-img-top" %>
                <% else %>
                  <%= image_tag "dish.png", class: "card-img-top" %>
                <% end %>
                <div class="card-body">
                  <h5 class="card-title text-white"><%= link_to recipe.title, recipe_path(recipe) %></h5>
                  <p class="card-text"><%= recipe.description %></p>
                </div>
                <% if current_user == recipe.user || current_user.admin? %>
                  <%= link_to "削除", recipe_path(recipe), method: :delete, data: { confirm: "本当に削除しますか？" }, class: "btn btn-danger" %>
                  <%= link_to "レシピを修正する", edit_recipe_path(recipe), class: "btn btn-dark" %>
                <% end %>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
